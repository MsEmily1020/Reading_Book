<html>

<head>
    <title>Array 내장함수</title>
</head>

<body>
    <div id="div1"></div>
    <script>
        var fruits1 = ["Banana", "Orange", "Apple"];
        console.log(fruits1.toString());    // 배열에 있는 item 모두 print

        // join() : 배열의 모든 요소 연결해 하나의 문자열로 만듦 (괄호 안 구분자로 배열 연결)
        console.log(fruits1.join(" * "));

        var txt1 = "Banana";
        txt1 += "Orange";
        txt1 += "Apple<br>";

        document.getElementById("div1").innerHTML = txt1;

        var arr1 = [];
        arr1.push("Banana");
        arr1.push("Orange");
        arr1.push("Apple");
        console.log(arr1);
        document.getElementById("div1").innerHTML = arr1.join("<br>");

        // pop() : 배열의 가장 마지막 제거
        var fruits2 = ["Banana", "Orange", "Apple"];
        var arr2 = fruits2.pop();
        console.log(arr2);          // 배열의 마지막 값 출력
        console.log(fruits2);       // fruits1.pop() : fruits1의 가장 마지막을 제거한 값 출력
        fruits2.push("Kiwi");
        console.log(fruits2);

        // shift() : 배열의 첫번째 항목 제거
        var fruits3 = ["Banana", "Orange", "Apple"];
        var str = fruits3.shift();
        console.log(str);           // 배열의 첫번째 값 출력
        console.log(fruits3);       // 배열의 첫번째 값 삭제한 값 출력

        // unshift() : 배열의 첫번째 항목 추가
        var fruits4 = ["Banana", "Orange", "Apple"];
        fruits4.unshift("Lemon");   // 배열의 첫번째 값 추가
        console.log(fruits4);

        fruits4[0] = "Grape";
        console.log(fruits4);
        console.log(fruits4.length);
        fruits4[fruits4.length - 1] = "Peach";
        console.log(fruits4);

        // splice(index1, index2) : 배열 중간에 삽입 / 변경 / 삭제
        var fruits5 = ["Banana", "Orange", "Apple"];
        // fruits5.splice(1);      // 인덱스 1부터 이후 삭제
        console.log(fruits5);

        // fruits5.splice(1, 1);       // 인덱스 1만 삭제
        console.log(fruits5);

        fruits5.splice(1, 0);
        console.log(fruits5);   // 큰 수에서 작은 수로 안됨

        // 추가
        fruits5.splice(1, 0, "Lemon");
        console.log(fruits5);   // 1번째 인덱스에 Lemon 추가

        // 변경
        fruits5.splice(1, 1, "Kiwi");
        console.log(fruits5);   // 1번째 인덱스에 Lemon을 Kiwi로 변환

        // concat() : 두 개의 배열을 하나로 만들어줌.
        var BTS1 = ["뷔"];
        var BTS2 = ["정국", "RM"];
        var BTS = BTS1.concat(BTS2);
        console.log(BTS);

        // slice (index1, index2) : 배열의 일부분 갖고 옴
        // index1 ~ index2 - 1까지

        var fruits6 = ["Banana", "Orange", "Apple"];
        // var fruits7 = fruits6.slice(1);    // 인덱스1 부터 끝까지
        console.log(fruits7);

        var fruits7 = fruits6.slice(1, 2);  //인덱스 1을 출력
        console.log(fruits7);

        // sort() : 정렬
        var fruits8 = ["Banana", "Orange", "Apple", "Lemon", "Kiwi"];
        console.log(fruits8.sort());

        var points = [40, 100, 70, 21, 99];
        console.log(points.sort(function (a, b) {
            if (a > b) return 1;
            else if (a < b) return -1;
            else return 0;
        }));

        points = [40, 100, 70, 21, 99];
        console.log(points.sort(function (a, b) {
            return a - b;
        }));

        points = [40, 100, 70, 21, 99];
        console.log(points);
        console.log(points.reverse());

        // object 정렬
        var persons = [
            { name: "유재석", point: 78 },
            { name: "김종국", point: 90 },
            { name: "양세찬", point: 76 },
            { name: "하하", point: 82 }
        ];

        // console.log(persons.sort());

        persons.sort(function (a, b) {
            if (a.point > b.point) return 1;
            else if (a.point < b.point) return -1;
            else return 0;
        });

        console.log(persons);

        // 삼항연산자
        persons.sort(function (a, b) {
            return (a.point > b.point) ? 1 : (a.point == b.point) ? 0 : -1;
        });

        console.log(persons);

        // filter() : 조건에 맞는 배열만 리턴
        var pass = persons.filter(function (per) {
            return per.point > 80;
        });

        console.log(pass);

        var persons = [
            { name: "유재석", point: 78, city: "서울" },
            { name: "김종국", point: 90, city: "대구" },
            { name: "양세찬", point: 76, city: "서울" },
            { name: "하하", point: 82, city: "제주" }
        ];

        var jeju = persons.filter(function (per) {
            return per.city === "제주";
        });

        console.log(jeju);

        // filter를 for문으로 구현
        jeju = [];
        for (var i = 0; i < persons.length; i++) {
            if (persons[i].city === "제주") {
                jeju.push(persons[i]);
            }
        }

        console.log(jeju);

        var arr3 = [1, 2, 3, 4, 5];
        var total = 0;
        for (var i of arr3) {
            total += i;
        }

        console.log(total);

        // reduce(a, c)
        // a : accumulator : 누산기
        // c : currentValue

        var arr4 = [1, 2, 3, 4, 5];
        total = arr4.reduce(function (a, c) {
            return a + c;
        });

        console.log(total);

        // map : filter()와는 다른 형태로 새로운 배열 생성 (사용자 정의 가능)
        var userList = [
            { firstName: "재석", lastName: "유", email: "yu@gmail.com" },
            { firstName: "종국", lastName: "김", email: "kim@gmail.com" },
            { firstName: "세찬", lastName: "양", email: "yang@gmail.com" },
            { firstName: "석진", lastName: "지", email: "ji@gmail.com" }
        ];

        var userList2 = userList.map(function (user) {
            return { fullName: "런닝맨 멤버 : " + user.lastName + user.firstName }
            // return { firstName: user.firstName, lastName: user.lastName }
        });

        console.log(userList2);
    </script>
</body>

</html>