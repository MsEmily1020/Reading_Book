## 🔍 엔티티 매니저란?

### ✔ 엔티티

데이터베이스의 테이블과 매핑되는 객체.

일반 객체와 다르지 않으나, 데이터베이스의 테이블과 직접 연결된다는 특징으로 구분됨.

즉, 엔티티는 객체이지만 데이터베이스에 영향을 미치는 쿼리를 실행하는 객체

<br>

### ✔ 엔티티 매니저

엔티티를 관리해 데이터베이스와 어플리케이션 사이에서 객체를 생성, 수정, 삭제하는 등의 역할

엔티티 매니저를 만드는 곳을 엔티티 매니저 팩토리 entity manager factory라고 하고 함.

스프링 부트 내부에서는 엔티티 매니저 팩토리르 하나만 생성해서 관리하고 

@PersistenceContext 또는 @Autowired를 사용해 엔티티 매니저를 사용함.

```java
@PersistenceContext
EntitiyManager em; // 프록시 엔티티 매니저. 필요할 때 진짜 엔티티 매니저 호출
```

또한, 기본적으로 빈은 하나만 생성해서 공유하기 때무에 동시성 문제가 발생할 수 있는데 이 때문에

엔티티 매니저가 아닌 실제 엔티티 매너저와 연결하는 프록시(가짜) 엔티티 매니저를 사용함.

필요할 때 데이터베이스 트랜잭션과 관련된 실제 엔티티 매니저를 호출함.
